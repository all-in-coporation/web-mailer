{"code":"import { Response } from \"mongodb-stitch-core-sdk\";\r\nimport EventSourceEventStream from \"./EventSourceEventStream\";\r\nimport fetch from \"fetch-everywhere\";\r\nvar FetchStreamTransport = (function () {\r\n    function FetchStreamTransport() {\r\n    }\r\n    FetchStreamTransport.prototype.roundTrip = function (request) {\r\n        var responsePromise = fetch(request.url, {\r\n            body: request.body,\r\n            headers: request.headers,\r\n            method: request.method\r\n        });\r\n        var responseTextPromise = responsePromise.then(function (response) {\r\n            return response.text();\r\n        });\r\n        return Promise.all([responsePromise, responseTextPromise]).then(function (values) {\r\n            var response = values[0];\r\n            var body = values[1];\r\n            var headers = {};\r\n            response.headers.forEach(function (value, key) {\r\n                headers[key] = value;\r\n            });\r\n            return new Response(headers, response.status, body);\r\n        });\r\n    };\r\n    FetchStreamTransport.prototype.stream = function (request) {\r\n        return Promise.resolve(new EventSourceEventStream(new EventSource(request.url)));\r\n    };\r\n    return FetchStreamTransport;\r\n}());\r\nexport default FetchStreamTransport;\r\n//# sourceMappingURL=FetchStreamTransport.js.map","map":"{\"version\":3,\"file\":\"FetchStreamTransport.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/core/internal/net/FetchStreamTransport.ts\"],\"names\":[],\"mappings\":\"AAgBA,OAAO,EAKL,QAAQ,EAET,MAAM,yBAAyB,CAAC;AACjC,OAAO,sBAAsB,MAAM,0BAA0B,CAAC;AAC9D,OAAO,KAAK,MAAM,kBAAkB,CAAC;AAGrC;IAAA;IA0BA,CAAC;IAzBQ,wCAAS,GAAhB,UAAiB,OAAqB;QACpC,IAAM,eAAe,GAAG,KAAK,CAAC,OAAO,CAAC,GAAG,EAAE;YACzC,IAAI,EAAE,OAAO,CAAC,IAAI;YAClB,OAAO,EAAE,OAAO,CAAC,OAAO;YACxB,MAAM,EAAE,OAAO,CAAC,MAAM;SACvB,CAAC,CAAC;QAEH,IAAM,mBAAmB,GAAG,eAAe,CAAC,IAAI,CAAC,UAAA,QAAQ;YACvD,OAAA,QAAQ,CAAC,IAAI,EAAE;QAAf,CAAe,CAChB,CAAC;QAEF,OAAO,OAAO,CAAC,GAAG,CAAC,CAAC,eAAe,EAAE,mBAAmB,CAAC,CAAC,CAAC,IAAI,CAAC,UAAA,MAAM;YACpE,IAAM,QAAQ,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;YAC3B,IAAM,IAAI,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;YACvB,IAAM,OAAO,GAA8B,EAAE,CAAC;YAC9C,QAAQ,CAAC,OAAO,CAAC,OAAO,CAAC,UAAC,KAAK,EAAE,GAAG;gBAClC,OAAO,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;YACvB,CAAC,CAAC,CAAC;YACH,OAAO,IAAI,QAAQ,CAAC,OAAO,EAAE,QAAQ,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;QACtD,CAAC,CAAC,CAAC;IACL,CAAC;IAEM,qCAAM,GAAb,UAAc,OAAqB;QACjC,OAAO,OAAO,CAAC,OAAO,CAAC,IAAI,sBAAsB,CAAC,IAAI,WAAW,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IACnF,CAAC;IACH,2BAAC;AAAD,CAAC,AA1BD,IA0BC\"}","dts":{"name":"/Users/eric/stitch/stitch-js-sdk/packages/browser/core/.rpt2_cache/placeholder/core/internal/net/FetchStreamTransport.d.ts","text":"import { BasicRequest, EventStream, Response, Transport } from \"mongodb-stitch-core-sdk\";\r\nexport default class FetchStreamTransport implements Transport {\r\n    roundTrip(request: BasicRequest): Promise<Response>;\r\n    stream(request: BasicRequest): Promise<EventStream>;\r\n}\r\n"}}
